<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Werewords</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 0;
            margin: 0;
        }

        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: white;
            padding: 15px 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 1001;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        h1 {
            color: #333;
            font-size: 1.5em;
            margin: 0;
        }

        .header-reset-button {
            padding: 8px 16px;
            background: #f44336;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: none;
        }

        .header-reset-button:hover {
            background: #da190b;
        }

        .header-reset-button:active {
            transform: scale(0.95);
        }

        .container {
            width: 100%;
            max-width: 600px;
            margin: 80px auto 20px;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .setup-screen {
            display: block;
        }

        .game-screen {
            display: none;
        }

        .roles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .role-button {
            padding: 20px;
            border: 3px solid #ddd;
            border-radius: 15px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            position: relative;
            overflow: hidden;
            background: #f5f5f5;
            color: #999;
            opacity: 0.5;
        }


        .role-button.mayor {
            border-color: #fff9c4;
        }

        .role-button.mayor.active {
            background: #ffd700;
            color: #333;
            border-color: #f57f17;
            opacity: 1;
            box-shadow: 0 4px 12px rgba(255, 215, 0, 0.4);
        }

        .role-button.villager {
            border-color: #c8e6c9;
        }

        .role-button.villager.active {
            background: #4caf50;
            color: white;
            border-color: #2e7d32;
            opacity: 1;
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);
        }

        .role-button.werewolf {
            border-color: #ffcdd2;
        }

        .role-button.werewolf.active {
            background: #f44336;
            color: white;
            border-color: #c62828;
            opacity: 1;
            box-shadow: 0 4px 12px rgba(244, 67, 54, 0.4);
        }

        .role-button.seer {
            border-color: #bbdefb;
        }

        .role-button.seer.active {
            background: #2196f3;
            color: white;
            border-color: #1565c0;
            opacity: 1;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.4);
        }

        .role-button:active {
            transform: scale(0.95);
        }

        .role-label {
            font-size: 14px;
            margin-top: 5px;
            opacity: 0.8;
        }

        .categories-section {
            margin-top: 20px;
            margin-bottom: 30px;
        }

        .categories-label {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
            display: block;
        }

        .category-select {
            width: 100%;
            padding: 15px;
            border: 2px solid #667eea;
            border-radius: 10px;
            background: white;
            color: #333;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: capitalize;
        }

        .category-select:focus {
            outline: none;
            border-color: #764ba2;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }

        .play-button {
            width: 100%;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 20px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .play-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .play-button:active {
            transform: translateY(0);
        }

        .play-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            box-shadow: none;
        }

        .game-content {
            text-align: center;
        }

        .instruction {
            font-size: 24px;
            color: #333;
            margin-bottom: 30px;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f5f5f5;
            border-radius: 15px;
            padding: 20px;
            flex-direction: column;
        }

        .word-selection {
            display: none;
            flex-direction: column;
            gap: 15px;
            margin: 20px 0;
        }

        .word-button {
            padding: 20px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 20px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .word-button:hover {
            background: #5568d3;
            transform: translateY(-2px);
        }

        .word-display {
            display: none;
            font-size: 48px;
            font-weight: bold;
            color: #667eea;
            padding: 30px;
            background: white;
            border-radius: 15px;
            margin: 20px 0;
            text-transform: uppercase;
        }

        .timer {
            font-size: 64px;
            font-weight: bold;
            color: #667eea;
            margin: 20px 0;
        }

        .timer.warning {
            color: #f44336;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .outcome-buttons {
            display: none;
            flex-direction: column;
            gap: 15px;
            width: 100%;
        }

        .outcome-button {
            padding: 20px;
            border: none;
            border-radius: 15px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .outcome-button.success {
            background: #4caf50;
            color: white;
        }

        .outcome-button.failure {
            background: #ff9800;
            color: white;
        }

        .outcome-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .game-buttons-fixed {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            padding: 20px;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        .next-button {
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            display: block;
            padding: 25px;
            background: #4caf50;
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 20px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .next-button:hover {
            background: #45a049;
        }

        .next-button:active {
            transform: scale(0.98);
        }

        .game-content {
            padding-bottom: 120px;
        }

        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 1.5em;
            }

            .roles-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }

            .role-button {
                padding: 15px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üê∫ Werewords</h1>
        <button class="header-reset-button" id="headerResetButton">Reset Game</button>
    </div>

    <div class="container">
        <!-- Setup Screen -->
        <div class="setup-screen" id="setupScreen">
            <div class="roles-grid" id="rolesGrid"></div>
            <div class="categories-section">
                <label class="categories-label" for="categorySelect">Word Category</label>
                <select class="category-select" id="categorySelect">
                    <option value="all">All Categories</option>
                </select>
            </div>
            <button class="play-button" id="playButton">Start Game</button>
        </div>

        <!-- Game Screen -->
        <div class="game-screen" id="gameScreen">
            <div class="game-content">
                <div class="instruction" id="instruction">
                    <div id="instructionText"></div>
                    <div class="word-selection" id="wordSelection"></div>
                    <div class="word-display" id="wordDisplay"></div>
                    <div class="timer" id="timer"></div>
                </div>
                <div class="outcome-buttons" id="outcomeButtons">
                    <button class="outcome-button success" id="wordGuessed">Word Guessed! (Werewolves find Seer)</button>
                    <button class="outcome-button failure" id="wordNotGuessed">Word Not Guessed (Find Werewolves)</button>
                </div>
            </div>
            <div class="game-buttons-fixed">
                <button class="next-button" id="nextButton">Next</button>
            </div>
        </div>
    </div>

    <script>
        // Game state
        const roles = [
            { type: 'villager', count: 8, label: 'Villager', active: false },
            { type: 'werewolf', count: 3, label: 'Werewolf', active: false },
            { type: 'seer', count: 1, label: 'Seer', active: false }
        ];

        let selectedRoles = [];
        let currentPhaseIndex = 0;
        let gamePhases = [];
        let selectedWord = '';
        let timerInterval = null;

        const wordCategories = {
            food: ['PIZZA', 'HAMBURGUESA', 'TACO', 'SUSHI', 'PASTA', 'ENSALADA', 'CHOCOLATE', 'GALLETITAS', 'TORTA', 'PAN', 'ARROZ', 'PAELLA', 'LASA√ëA', 'CEVICHE', 'EMPANADA', 'ASADO', 'STEAK', 'POLLO FRITO', 'RAMEN', 'CURRY', 'FALAFEL', 'HUMMUS', 'HOT DOG', 'NACHOS', 'BURRITO', 'GUACAMOLE', 'SOPA', 'SANGUCHE', 'KEBAB', 'FISH AND CHIPS', 'PASTEL DE CARNE', 'POLLO ASADO', 'TORTILLA DE PATATA', 'GAZPACHO', 'RISOTTO', 'GNOCCHI', 'RAVIOLI', 'NUGGETS', 'PAPA FRITA', 'PURE DE PAPA', 'ALBONDIGAS', 'CROQUETAS', 'AREPA', 'TAMAL', 'CHILAQUILES', 'ENCHILADAS', 'QUESADILLA', 'PANCETA', 'SALCHICHA', 'HUEVOS REVUELTOS', 'OMELETTE', 'CREPA', 'WAFFLE', 'PANQUEQUE', 'DONA', 'HELADO', 'CHURROS', 'ALFAJOR', 'FLAN', 'GELATINA', 'YOGUR', 'CEREAL', 'AVENA', 'BAGUETTE', 'PRETZEL', 'CROISSANT', 'MUFFIN', 'BROWNIE', 'TARTA DE MANZANA', 'SUSPIRO LIMENO', 'BACALAO', 'SALMON', 'ATUN', 'CAMARONES', 'LANGOSTA', 'PULPO'],
            animals: ['PERRO', 'GATO', 'CABALLO', 'VACA', 'CERDO', 'OVEJA', 'CABRA', 'CONEJO', 'GALLINA', 'PATO', 'LEON', 'TIGRE', 'ELEFANTE', 'JIRAFA', 'CEBRA', 'HIPOPOTAMO', 'RINOCERONTE', 'GORILA', 'MONO', 'CHIMPANCE', 'CANGURO', 'KOALA', 'OSO PANDA', 'OSO POLAR', 'OSO PARDO', 'LOBO', 'ZORRO', 'COYOTE', 'HIENA', 'GUEPARDO', 'LEOPARDO', 'PANTERA', 'PUMA', 'JAGUAR', 'LINCE', 'CIERVO', 'ALCE', 'RENO', 'CAMELLO', 'LLAMA', 'ALPACA', 'GUANACO', 'VICUNA', 'BUFALO', 'BISONTE', 'ANTILOPE', 'GACELA', 'SURICATA', 'CASTOR', 'NUTRIA', 'FOCA', 'MORSA', 'LEON MARINO', 'BALLENA', 'DELFIN', 'ORCA', 'TIBURON', 'RAYA', 'PULPO', 'CALAMAR', 'MEDUSA', 'ESTRELLA DE MAR', 'CABALLITO DE MAR', 'PINGUINO', 'AVESTRUZ', 'AGUILA', 'HALCON', 'BUHO', 'LECHUZA', 'LORO', 'GUACAMAYO', 'TUCAN', 'COLIBRI', 'CISNE', 'FLAMENCO', 'PELICANO', 'CIGUENA', 'CUERVO', 'PALOMA', 'GORRION', 'MURCIELAGO', 'COCODRILO', 'CAIMAN', 'TORTUGA', 'SERPIENTE', 'VIBORA', 'IGUANA', 'CAMALEON', 'LAGARTIJA', 'SALAMANDRA', 'RANA', 'SAPO', 'ABEJA', 'AVISPA', 'HORMIGA', 'MARIPOSA', 'POLILLA', 'ESCARABAJO', 'SALTAMONTES', 'GRILLO', 'MANTIS RELIGIOSA', 'ARANA', 'ESCORPION', 'CIEMPIES', 'CARACOL', 'BABOSA', 'LOMBRIZ'],
            plants: ['ROSA', 'ARBOL', 'CACTUS', 'GIRASOL', 'TULIPAN', 'ORQUIDEA', 'BAMBU', 'PAPA', 'BERENJENA', 'BATATA', 'ZANAHORIA', 'TOMATE', 'LECHUGA', 'CEBOLLA', 'AJO', 'PEPINO', 'CALABAZA', 'ESPINACA', 'BROCOLI', 'COLIFLOR', 'REPOLLO', 'ARVEJA', 'LENTEJA', 'MAIZ', 'TRIGO', 'MANZANA', 'PERA', 'BANANA', 'NARANJA', 'LIMON', 'UVA', 'FRUTILLA', 'SANDIA', 'MELON', 'ANANA', 'MANGO', 'PALTA', 'DURAZNO', 'CIRUELA', 'CEREZA', 'HIGO', 'KIWI', 'ARANDANO', 'FRAMBUESA', 'MORA', 'COCO', 'NUEZ', 'ALMENDRA', 'AVELLANA', 'CASTANA', 'PINO', 'ROBLE', 'EUCALIPTO', 'SAUCE', 'PALMERA', 'HELECHO', 'MUSGO', 'ALGA', 'LAVANDA', 'MENTA', 'ALBAHACA', 'ROMERO', 'TOMILLO', 'OREGANO', 'PEREJIL', 'CILANTRO', 'MARGARITA', 'CLAVEL', 'LIRIO', 'AMAPOLA', 'JAZMIN', 'GERANIO', 'HORTENSIA', 'ALOE VERA', 'BONSAI', 'TREBOL', 'OLIVO', 'VID', 'CACAO', 'CAFE', 'TE'],
            people: ['ALBERT EINSTEIN', 'ELON MUSK', 'DONALD TRUMP', 'BRAD PITT', 'MARADONA', 'CRISTIANO RONALDO', 'MICHAEL JORDAN', 'SHAKIRA', 'MADONNA', 'MICHAEL JACKSON', 'ELVIS PRESLEY', 'BEATLES', 'QUEEN', 'BEYONCE', 'TAYLOR SWIFT', 'LADY GAGA', 'RIHANNA', 'JUSTIN BIEBER', 'BILL GATES', 'STEVE JOBS', 'MARK ZUCKERBERG', 'JEFF BEZOS', 'WALT DISNEY', 'BARACK OBAMA', 'NELSON MANDELA', 'MAHATMA GANDHI', 'MARTIN LUTHER KING', 'DALAI LAMA', 'PAPA FRANCISCO', 'JUANA DE ARCO', 'CLEOPATRA', 'JULIO CESAR', 'NAPOLEON', 'ALEJANDRO MAGNO', 'LEONARDO DA VINCI', 'MIGUEL ANGEL', 'PABLO PICASSO', 'VINCENT VAN GOGH', 'FRIDA KAHLO', 'SALVADOR DALI', 'SHAKESPEARE', 'CERVANTES', 'ISAAC NEWTON', 'CHARLES DARWIN', 'MARIE CURIE', 'NIKOLA TESLA', 'GALILEO GALILEI', 'ARISTOTELES', 'PLATON', 'SOCRATES', 'MOZART', 'BEETHOVEN', 'CHOPIN', 'MARILYN MONROE', 'AUDREY HEPBURN', 'CHARLIE CHAPLIN', 'ELIZABETH TAYLOR', 'TOM CRUISE', 'LEONARDO DICAPRIO', 'MERYL STREEP', 'ANGELINA JOLIE', 'WILL SMITH', 'JOHNNY DEPP', 'ROBERT DOWNEY JR', 'SCARLETT JOHANSSON', 'MORGAN FREEMAN', 'STEVEN SPIELBERG', 'OPRAH WINFREY', 'PRINCIPESA DIANA', 'REINA ISABEL II', 'MARGARET THATCHER', 'WINSTON CHURCHILL', 'ABRAHAM LINCOLN', 'GEORGE WASHINGTON', 'CHE GUEVARA', 'FIDEL CASTRO', 'SIMON BOLIVAR', 'JOSE DE SAN MARTIN', 'MALALA YOUSAFZAI', 'GRETA THUNBERG', 'NEIL ARMSTRONG', 'YURI GAGARIN', 'MUHAMMAD ALI', 'ROGER FEDERER', 'RAFAEL NADAL', 'SERENA WILLIAMS', 'TIGER WOODS', 'USAIN BOLT', 'LEBRON JAMES', 'PELE', 'ZIDANE', 'RONALDINHO', 'BAD BUNNY', 'ROSALIA', 'J BALVIN', 'MALUMA', 'RICKY MARTIN', 'LUIS MIGUEL', 'JULIO IGLESIAS', 'CRISTINA KIRCHNER', 'RICARDO DARIN', 'GUILLERMO FRANCELLA', 'LIONEL MESSI', 'CHARLY GARCIA', 'GUSTAVO CERATI', 'JAVIER MILEI'],
            places: ['ESPA√ëA', 'MEXICO', 'ARGENTINA', 'COLOMBIA', 'CHILE', 'PERU', 'ESTADOS UNIDOS', 'FRANCIA', 'ITALIA', 'ALEMANIA', 'REINO UNIDO', 'JAPON', 'CHINA', 'BRASIL', 'CANADA', 'RUSIA', 'AUSTRALIA', 'EGIPTO', 'GRECIA', 'INDIA', 'PORTUGAL', 'PAISES BAJOS', 'SUIZA', 'SUECIA', 'NORUEGA', 'BELGICA', 'AUSTRIA', 'MARRUECOS', 'TURQUIA', 'ISRAEL', 'ARABIA SAUDITA', 'SUDAFRICA', 'NIGERIA', 'CUBA', 'REPUBLICA DOMINICANA', 'COSTA RICA', 'PANAMA', 'VENEZUELA', 'URUGUAY', 'ECUADOR', 'BOLIVIA', 'PARAGUAY', 'GUATEMALA', 'HONDURAS', 'EL SALVADOR', 'NICARAGUA', 'FILIPINAS', 'COREA DEL SUR', 'TAILANDIA', 'NUEVA ZELANDA', 'MADRID', 'BARCELONA', 'VALENCIA', 'SEVILLA', 'CIUDAD DE MEXICO', 'BUENOS AIRES', 'BOGOTA', 'LIMA', 'SANTIAGO', 'CARACAS', 'QUITO', 'MONTEVIDEO', 'LA HABANA', 'SAN JOSE', 'CIUDAD DE GUATEMALA', 'ASUNCION', 'NUEVA YORK', 'PARIS', 'LONDRES', 'ROMA', 'BERLIN', 'TOKIO', 'PEKIN', 'MOSCU', 'AMSTERDAM', 'VIENA', 'PRAGA', 'ATENAS', 'ESTAMBUL', 'EL CAIRO', 'JERUSALEN', 'DUBAI', 'SINGAPUR', 'BANGKOK', 'SEUL', 'SIDNEY', 'LOS ANGELES', 'MIAMI', 'RIO DE JANEIRO', 'SAO PAULO', 'MEXICO DF', 'GUADALAJARA', 'MONTERREY', 'MEDELLIN', 'CANCUN', 'LAS VEGAS', 'SAN FRANCISCO', 'VANCOUVER', 'LISBOA', 'MARRAKECH', 'ROSARIO', 'ROLDAN', 'MALVINAS', 'TORRE EIFFEL', 'TAJ MAHAL', 'CATARATAS DEL IGUAZU', 'GRAN MURALLA CHINA', 'COLISEO ROMANO', 'ESTATUA DE LA LIBERTAD', 'MACHU PICCHU', 'PIRAMIDES DE GIZA', 'CRISTO REDENTOR', 'CHICHEN ITZA', 'ACROPOLIS DE ATENAS', 'BIG BEN', 'CATEDRAL DE NOTRE DAME', 'SAGRADA FAMILIA', 'GRAN CANON DEL COLORADO', 'PALACIO DE VERSALLES', 'OPERA DE SIDNEY', 'BASILICA DE SAN PEDRO', 'ALHAMBRA DE GRANADA', 'MURO DE LAS LAMENTACIONES', 'PETRA', 'ANGKOR WAT', 'SALAR DE UYUNI', 'ISLA DE PASCUA', 'MONTE EVEREST', 'CATARATAS DEL NIAGARA', 'PUENTE GOLDEN GATE', 'EMPIRE STATE BUILDING', 'LOUVRE', 'CANALES DE VENECIA', 'MEZQUITA DE CORDOBA', 'TEOTIHUACAN', 'TORRE DE PISA', 'SALTO ANGEL', 'MONTE FUJI', 'CAPILLA SIXTINA', 'SANTORINI', 'STONEHENGE', 'CIUDAD PROHIBIDA', 'BURJ KHALIFA', 'MUSEO DEL PRADO', 'GRAN BARRERA DE CORAL', 'PARQUE NATIONAL YOSEMITE', 'ULURU', 'CATARATAS VICTORIA', 'KILIMANJARO', 'CATEDRAL DE SAN BASILIO', 'PANTENON DE ROMA', 'GLACIAR PERITO MORENO', 'MONTS SAINT MICHEL'],
            objects: ['TELEFONO', 'LIBRO', 'AUTO', 'SILLA', 'LAMPARA', 'RELOJ', 'ESPEJO', 'CAMARA', 'GUITARRA', 'BICICLETA', 'CAMA', 'MESA', 'CUADRO', 'VENTANA', 'PUERTA', 'ARMARIO', 'ALMOHADA', 'SABANA', 'TOALLA', 'JABON', 'CEPILLO', 'PASTA DE DIENTES', 'CHAMPU', 'PEINE', 'SECADOR', 'PLANCHA', 'LAVARROPAS', 'HELADERA', 'MICROONDAS', 'HORNO', 'COCINA', 'SARTEN', 'OLLA', 'PLATO', 'VASO', 'COPA', 'TENEDOR', 'CUCHILLO', 'CUCHARA', 'SERVILLETA', 'MANTEL', 'CAFETERA', 'TOSTADORA', 'LICUADORA', 'PAVA', 'MATE', 'TERMO', 'MOCHILA', 'CARTERA', 'BILLETERA', 'LLAVE', 'MONEDA', 'BILLETE', 'RELOJ DE PULSERA', 'ANTEOJOS', 'GORRA', 'ZAPATO', 'ZAPATILLA', 'BOTA', 'SANDALIA', 'MEDIAS', 'PANTALON', 'REMERA', 'CAMISA', 'CAMPERA', 'ABRIGO', 'BUFANDA', 'GUANTES', 'CINTURON', 'CORBATA', 'RELOJ DE PARED', 'CALENDARIO', 'LAPICERA', 'LAPIZ', 'GOMA', 'SACAPUNTAS', 'REGLA', 'TIJERA', 'PEGAMENTO', 'CINTA ADHESIVA', 'CARPETA', 'CUADERNO', 'PAPEL', 'SOBRE', 'ESTUCHE', ' CALCULADORA', 'COMPUTADORA', 'TECLADO', 'MOUSE', 'MONITOR', 'IMPRESORA', 'AURICULARES', 'PARLANTE', 'TELEVISOR', 'CONTROL REMOTO', 'CONSOLA', 'CABLE', 'CARGADOR', 'BATERIA', 'LINTERNA', 'VELA', 'FOSFORO', 'ENCENDEDOR', 'CENICERO', 'PARAGUAS', 'ESCOBA', 'PALA', 'BALDE', 'TRAPO', 'ESPONJA', 'DETERGENTE', 'BOLSA', 'CESTO', 'PERCHA', 'ALFILETERO', 'AGUJA', 'HILO', 'BOTON', 'DEDAL', 'PLANCHA DE PELO', 'MAQUINA DE AFEITAR', 'PERFUME', 'DESODORANTE', 'CREMA', 'MAQUILLAJE', 'ESMALTE', 'MALETA', 'CANDADO', 'HERRAMIENTA', 'MARTILLO', 'DESTORNILLADOR', 'PINZA', 'CLAVO', 'TORNILLO', 'ESCALERA', 'MANGUERA', 'MACETA', 'REGADERA', 'BANCO', 'ALFOMBRA', 'CORTINA', 'COJIN', 'FLORERO', 'RELOJ DESPERTADOR', 'RADIO', 'BRUJULA', 'MAPA', 'DICCIONARIO', 'REVISTA'],
            abstract: ['AMOR', 'LIBERTAD', 'PAZ', 'JUSTICIA', 'ESPERANZA', 'CORAJE', 'SABIDURIA', 'VERDAD', 'BELLEZA', 'SUENO', 'FELICIDAD', 'ODIO', 'TRISTEZA', 'IRA', 'MIEDO', 'PODER', 'TIEMPO', 'MUERTE', 'VIDA', 'SOLEDAD', 'AMISTAD', 'LEALTAD', 'HONESTIDAD', 'RESPETO', 'IGUALDAD', 'HONOR', 'FE', 'DESTINO', 'CAOS', 'ORDEN', 'MEMORIA', 'OLVIDO', 'RECUERDO', 'RAZON', 'PASION', 'DOLOR', 'PLACER', 'SILENCIO', 'SONIDO', 'ALMA', 'ESPIRITU', 'CONCIENCIA', 'CULPA', 'PERDON', 'VIRTUD', 'VICIO', 'MALDAD', 'BONDAD', 'EGOISMO', 'ALTRUISMO', 'ENVIDIA', 'COVARDIA', 'ORGULLO', 'HUMILDAD', 'PACIENCIA', 'AMBICION', 'EXITO', 'FRACASO', 'RIQUEZA', 'POBREZA', 'SALUD', 'ENFERMEDAD', 'ETERNIDAD', 'INFINITO', 'LOGICA', 'MORAL', 'ETICA', 'FILOSOFIA', 'CIENCIA', 'RELIGION', 'CULTURA', 'TRADICION', 'CAMBIO', 'PROGRESO', 'UTOPIA'],
            jobs: ['INGENIERO', 'ENFERMERO', 'ABOGADO', 'CIENTIFICO', 'GRANJERO', 'PLOMERO', 'ARQUITECTO', 'FOTOGRAFO', 'CONTADOR', 'BOMBERO', 'POLICIA', 'MAESTRO', 'MEDICO', 'CARPINTERO', 'ELECTRICISTA', 'COCINERO', 'MESERO', 'CHOFER', 'MECANICO', 'DENTISTA', 'VETERINARIO', 'PERIODISTA', 'PSICOLOGO', 'DISENADOR', 'PROGRAMADOR', 'ARTISTA', 'MUSICO', 'ACTOR', 'ESCRITOR', 'BIBLIOTECARIO', 'CARTERO', 'ALBANIL', 'PINTOR', 'JARDINERO', 'PELUQUERO', 'SASTRE', 'PILOTO', 'AZAFATA', 'MARINERO', 'MINERO', 'SOLDADO', 'JUEZ', 'ECONOMISTA', 'BIOLOGO', 'ASTRONAUTA', 'GEOLOGO', 'ARQUEOLOGO', 'SOCIOLOGO', 'FILOSOFO', 'DEPORTISTA'],
            movies: ['TITANIC', 'AVATAR', 'EL ORIGEN', 'TIBURON', 'FROZEN', 'GLADIADOR', 'ROCKY', 'SHREK', 'UP', 'EL PADRINO', 'PULP FICTION', 'FORREST GUMP', 'EL REY LEON', 'TOY STORY', 'STAR WARS', 'VOLVER AL FUTURO', 'JURASSIC PARK', 'EL CABALLERO DE LA NOCHE', 'EL SENOR DE LOS ANILLOS', 'HARRY POTTER', 'MATRIX', 'EL CLUB DE LA PELEA', 'MILAGROS INESPERADOS', 'LA LISTA DE SCHINDLER', 'BUSCANDO A NEMO', 'LOS INCREIBLES', 'RATATOUILLE', 'COCO', 'EL EXORCISTA', 'EL RESPLANDOR', 'PSICOSIS', 'ALIEN EL OCTAVO PASAJERO', 'TERMINATOR', 'ROBOCOP', 'EL SILENCIO DE LOS INOCENTES', 'CORAZON VALIENTE', 'EL SHOW DE TRUMAN', 'BASTARDOS SIN GLORIA', 'DJANGO SIN CADENAS', 'LOS JUEGOS DEL HAMBRE', 'CREPUSCULO', 'SPIDERMAN', 'LOS VENGADORES', 'IRON MAN', 'EL LOBO DE WALL STREET', 'GRAN TORINO', 'LA NARANJA MECANICA', 'TAXI DRIVER', 'CUIDADANO KANE', 'CASABLANCA', 'LO QUE EL VIENTO SE LLEVO', 'EL MAGO DE OZ', 'LA NOVICIA REBELDE', 'CANTANDO BAJO LA LLUVIA', 'MISION IMPOSIBLE', 'DURO DE MATAR', 'ARMA MORTAL', 'INDIANA JONES', 'ET EL EXTRATERRESTRE', 'GREMLINS', 'LOS CAZAFANTASMAS', 'MI POBRE ANGELITO', 'EL JOVEN MANOS DE TIJERAS', 'EL EXTRA√ëO MUNDO DE JACK', 'SENSE Y SENSIBILIDAD', 'ORGULLO Y PREJUICIO', 'MUJERCITAS', 'DIARIO DE UNA PASION', 'CUESTION DE TIEMPO', 'LA LA LAND', 'NACIO UNA ESTRELLA', 'BOHEMIAN RHAPSODY', 'EL PIANISTA', 'LA VIDA ES BELLA', 'PARASITOS', 'EL LABERINTO DEL FAUNO', 'ROMA', 'AMELIE', 'EL GRAN HOTEL BUDAPEST', 'MAD MAX', 'BLADE RUNNER', 'EL QUINTO ELEMENTO', 'EL PERFECTO ASESINO', 'RESIDEV EVIL', 'EL ARO', 'EL CONJURO', 'ACTIVIDAD PARANORMAL', 'SCREAM', 'JUEGOS DIABOLICOS', 'CARRIE', 'EL BEBE DE ROSEMARY', 'FRAGMENTADO', 'EL SEXTO SENTIDO', 'LOS OTROS', 'UNA MENTE BRILLANTE', 'RENA_CIENTE', 'LA FORMA DEL AGUA', 'TODO EN TODAS PARTES AL MISMO TIEMPO', 'DUNA', 'INTERESTELAR', 'NUEVE REINAS'],
            series: ['FRIENDS', 'LOST', 'HEROES', 'BONES', 'SUITS', 'DR HOUSE', 'SHERLOCK', 'WESTWORLD', 'NARCOS', 'DEXTER', 'BREAKING BAD', 'GAME OF THRONES', 'ESTA SUCEDIENDO', 'LOS SOPRANO', 'THE OFFICE', 'EL MANDALORIANO', 'BLACK MIRROR', 'THE CROWN', 'LA CASA DE PAPEL', 'EL JUEGO DEL CALAMAR', 'DARK', 'VIKINGOS', 'GREYS ANATOMY', 'LOS EXPEDIENTES SECRETOS X', 'MAD MEN', 'THE WIRE', 'BETTER CALL SAUL', 'EL CUENTO DE LA CRIADA', 'CHNOBYL', 'PEAKY BLINDERS', 'SINFONIA EN SELVA', 'THE BOYS', 'EL OSO', 'SUCESION', 'FLEABAG', 'BOJACK HORSEMAN', 'RICK Y MORTY', 'LOS SIMPSON', 'SOUTH PARK', 'FAMILY GUY', 'HOW I MET YOUR MOTHER', 'THE BIG BANG THEORY', 'MODERN FAMILY', 'MALCOLM EL DE EN MEDIO', 'PRISON BREAK', 'SCANDAL', 'EL MENTALISTA', 'CRIMINAL MINDS', 'SUPERNATURAL', 'COBRA KAI'],
            characters: ['MICKEY MOUSE', 'HARRY POTTER', 'YODA', 'INDIANA JONES', 'SHERLOCK HOLMES', 'BATMAN', 'SUPERMAN', 'SPIDERMAN', 'WONDER WOMAN', 'IRON MAN', 'EL JOKER', 'DARTH VADER', 'LUKE SKYWALKER', 'PRINCIPESA LEIA', 'HAN SOLO', 'FRODO BOLSON', 'GANDALF', 'LEGOLAS', 'GOLLUM', 'VOLDEMORT', 'HERMIONE GRANGER', 'RON WEASLEY', 'ALBUS DUMBLEDORE', 'JAMES BOND', 'JACK SPARROW', 'TERMINATOR', 'ROCKY BALBOA', 'FORREST GUMP', 'KATNISS EVERDEEN', 'BELLA SWAN', 'EDWARD CULLEN', 'TONY MONTANA', 'VITO CORLEONE', 'HANNIBAL LECTER', 'NORMAN BATES', 'DRACULA', 'FRANKENSTEIN', 'EL HOMBRE LOBO', 'EL MONSTRUO DE LA LAGUNA', 'EL ZORRO', 'TARZAN', 'ROBIN HOOD', 'EL QUIJOTE', 'SANCHO PANZA', 'CAPITAN AMERICA', 'HULK', 'THOR', 'BLACK WIDOW', 'WOLVERINE', 'DEADPOOL', 'MARIO', 'LUIGI', 'PRINCIPESA PEACH', 'BOWSER', 'LINK', 'ZELDA', 'PIKACHU', 'SONIC', 'LARA CROFT', 'KRATOS', 'HOMERO SIMPSON', 'BART SIMPSON', 'PETER GRIFFIN', 'ERIC CARTMAN', 'BOB ESPONJA', 'PATRICIO ESTRELLA', 'MICKEY MOUSE', 'BUGS BUNNY', 'PATO LUCAS', 'TOM Y JERRY', 'SCOOBY-DOO', 'SHREK', 'BURRO', 'EL GATO CON BOTAS', 'ELSA', 'OLAF', 'SIMBA', 'MUFASA', 'SCAR', 'POKEMON', 'GOKU', 'VEGETA', 'NARUTO', 'LUFFY', 'SAILOR MOON', 'CENICIENTA', 'BLANCANIEVES', 'BELLA', 'ARIEL', 'MULAN', 'MAESTRO YODA', 'BOBA FETT', 'HAGRID', 'SEVERUS SNAPE', 'EL GRINCH', 'PETER PAN', 'CAPITAN GARFIO', 'ALICIA EN EL PAIS DE LAS MARAVILLAS', 'EL SOMBRERERO LOCO', 'WINNIE THE POOH'],
            books: ['LA VUELTA AL MUNDO EN 80 DIAS', 'FARENHEIT 451', 'EL CODIGO DA VINCI', 'PROYECTO HAIL MARY', 'DON QUIJOTE DE LA MANCHA', 'CIEN ANOS DE SOLEDAD', 'EL PRINCIPITO', '1984', 'REBELION EN LA GRANJA', 'UN MUNDO FELIZ', 'CRIMEN Y CASTIGO', 'LOS MISERABLES', 'ORGULLO Y PREJUICIO', 'EL RETRATO DE DORIAN GRAY', 'DRACULA', 'FRANKENSTEIN', 'EL SENOR DE LOS ANILLOS', 'EL HOBBIT', 'HARRY POTTER Y LA PIEDRA FILOSOFAL', 'CRONICAS DE NARNIA', 'EL ALQUIMISTA', 'EL NOMBRE DE LA ROSA', 'LA SOMBRA DEL VIENTO', 'EL AMOR EN LOS TIEMPOS DEL COLERA', 'PEDRO PARAMO', 'RAYUELA', 'LA CASA DE LOS ESPIRITUS', 'ENSAYO SOBRE LA CEGUERA', 'EL TUNEL', 'METAMORFOSIS', 'ULISES', 'EL GRAN GATSBY', 'EL GUARDIAN ENTRE EL CENTENO', 'MATAR A UN RUISENOR', 'LAS UVAS DE LA IRA', 'MOBY DICK', 'LA ISLA DEL TESORO', 'EL CONDE DE MONTECRISTO', 'LOS TRES MOSQUETEROS', 'ESTUDIO EN ESCARLATA', 'EL PERFUME', 'IT', 'EL RESPLANDOR', 'CRONICA DE UNA MUERTE ANUNCIADA', 'EL ALEPH', 'LA TREGUA', 'EL PSICOANALISTA', 'LOS JUEGOS DEL HAMBRE', 'DUNA', 'SIDDHARTHA'],
            brands: ['APPLE', 'NIKE', 'COCA-COLA', 'DISNEY', 'GOOGLE', 'AMAZON', 'TESLA', 'ADIDAS', 'SAMSUNG', 'STARBUCKS', 'MICROSOFT', 'TOYOTA', 'MERCEDES-BENZ', 'BMW', 'FERRARI', 'FORD', 'HONDA', 'VOLKSWAGEN', 'PEPSI', 'MCDONALDS', 'BURGER KING', 'NESTLE', 'KELLOGGS', 'DANONE', 'ZARA', 'H&M', 'GUCCI', 'LOUIS VUITTON', 'PRADA', 'CHANEL', 'ROLEX', 'CARTIER', 'SONY', 'NINTENDO', 'PLAYSTATION', 'NETFLIX', 'SPOTIFY', 'YOUTUBE', 'FACEBOOK', 'INSTAGRAM', 'TIKTOK', 'TWITTER', 'VISA', 'MASTERCARD', 'AMERICAN EXPRESS', 'PAYPAL', 'LOREAL', 'NIVEA', 'DOVE', 'COLGATE', 'GILLETTE', 'PAMPERS', 'LEGO', 'BARBIE', 'CANON', 'NIKON', 'ADOBE', 'INTEL', 'HP', 'DELL', 'IBM', 'ORACLE', 'UBER', 'AIRBNB', 'EBAY', 'FEDEX', 'DHL', 'UPS', 'SHELL', 'TOTAL', 'WALMART', 'IKEA', 'RED BULL', 'MONSTER', 'HYUNDAI']
        };

        let selectedCategories = ['all'];

        // Play beep sound
        function playBeep() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            oscillator.frequency.value = 800; // Frequency in Hz
            oscillator.type = 'sine';

            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);

            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.2);
        }

        // Play final beep sound (deeper and longer)
        function playFinalBeep() {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            oscillator.frequency.value = 400; // Lower frequency (deeper sound)
            oscillator.type = 'sine';

            gainNode.gain.setValueAtTime(0.4, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.6);

            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.6); // Longer duration
        }

        // Initialize the game
        function initGame() {
            // Initialize category select
            const categorySelect = document.getElementById('categorySelect');
            categorySelect.innerHTML = '<option value="all">All Categories</option>';

            Object.keys(wordCategories).forEach(category => {
                const option = document.createElement('option');
                option.value = category;
                option.textContent = category.charAt(0).toUpperCase() + category.slice(1);
                categorySelect.appendChild(option);
            });

            // Initialize roles
            const rolesGrid = document.getElementById('rolesGrid');
            rolesGrid.innerHTML = '';

            let buttonIndex = 0;
            roles.forEach(role => {
                for (let i = 0; i < role.count; i++) {
                    const button = document.createElement('button');
                    button.className = `role-button ${role.type}`;
                    button.dataset.index = buttonIndex;
                    button.dataset.type = role.type;
                    button.innerHTML = `
                        <div>${role.label}</div>
                    `;

                    const currentIndex = buttonIndex;
                    button.addEventListener('click', () => toggleRole(currentIndex));
                    rolesGrid.appendChild(button);
                    buttonIndex++;
                }
            });

            // Default selection: 4 Villagers (0-3), 1 Werewolf (8), 1 Seer (11)
            selectedRoles = Array(12).fill(false);
            const defaultSelection = [0, 1, 2, 3, 8, 11]; // 4 villagers, 1 werewolf, 1 seer
            defaultSelection.forEach(index => {
                selectedRoles[index] = true;
                const button = document.querySelector(`[data-index="${index}"]`);
                if (button) {
                    button.classList.add('active');
                }
            });

            updatePlayButton();
        }

        // Handle category selection
        function handleCategoryChange(event) {
            const category = event.target.value;
            if (category === 'all') {
                selectedCategories = ['all'];
            } else {
                selectedCategories = [category];
            }
        }

        // Toggle role selection
        function toggleRole(index) {
            selectedRoles[index] = !selectedRoles[index];
            const button = document.querySelector(`[data-index="${index}"]`);
            button.classList.toggle('active');
            updatePlayButton();
        }

        // Update play button state
        function updatePlayButton() {
            const playButton = document.getElementById('playButton');
            const selectedCount = selectedRoles.filter(r => r).length;

            // Check if at least one werewolf and the seer are selected
            let hasWerewolf = false;
            let hasSeer = false;

            selectedRoles.forEach((selected, index) => {
                if (selected) {
                    const button = document.querySelector(`[data-index="${index}"]`);
                    const type = button.dataset.type;
                    if (type === 'werewolf') hasWerewolf = true;
                    if (type === 'seer') hasSeer = true;
                }
            });

            const canStart = selectedCount > 0 && hasWerewolf && hasSeer;
            playButton.disabled = !canStart;

            if (selectedCount === 0) {
                playButton.textContent = 'Select Players to Start';
            } else if (!hasWerewolf || !hasSeer) {
                playButton.textContent = 'Need at least 1 Werewolf & 1 Seer';
            } else {
                playButton.textContent = `Start Game (${selectedCount} players)`;
            }
        }

        // Start the game
        function startGame() {
            // Build game phases
            gamePhases = [
                { phase: 'intro', text: 'Todos cierren los ojos...', type: 'instruction' },
                { phase: 'mayor-open', text: 'Mayor, abre los ojos y selecciona una palabra...', type: 'word-selection' },
                { phase: 'mayor-close', text: 'Mayor, cierra los ojos...', type: 'instruction' },
                { phase: 'werewolves-open', text: 'Werewolves, abre los ojos y mira la palabra...', type: 'show-word' },
                { phase: 'werewolves-close', text: 'Werewolves, cierra los ojos...', type: 'instruction' },
                { phase: 'seer-open', text: 'Seer, abre los ojos y mira la palabra...', type: 'show-word' },
                { phase: 'seer-close', text: 'Seer, cierra los ojos...', type: 'instruction' },
                { phase: 'discussion', text: 'Todos abran los ojos! Tienen 4 minutos para adivinar la palabra...', type: 'timer', duration: 300 },
                { phase: 'outcome', text: 'Averiguaron la palabra?', type: 'outcome' }
            ];

            currentPhaseIndex = 0;
            selectedWord = '';
            showGameScreen();
            displayCurrentPhase();
        }

        // Show game screen
        function showGameScreen() {
            document.getElementById('setupScreen').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'block';
            document.getElementById('headerResetButton').style.display = 'block';
        }

        // Show setup screen
        function showSetupScreen() {
            document.getElementById('setupScreen').style.display = 'block';
            document.getElementById('gameScreen').style.display = 'none';
            document.getElementById('headerResetButton').style.display = 'none';
        }

        // Display current phase
        function displayCurrentPhase() {
            const instructionText = document.getElementById('instructionText');
            const wordSelection = document.getElementById('wordSelection');
            const wordDisplay = document.getElementById('wordDisplay');
            const timerDisplay = document.getElementById('timer');
            const nextButton = document.getElementById('nextButton');
            const outcomeButtons = document.getElementById('outcomeButtons');

            // Hide all dynamic elements
            wordSelection.style.display = 'none';
            wordDisplay.style.display = 'none';
            timerDisplay.style.display = 'none';
            nextButton.style.display = 'block';
            outcomeButtons.style.display = 'none';

            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }

            if (currentPhaseIndex >= gamePhases.length) {
                return;
            }

            const phase = gamePhases[currentPhaseIndex];
            instructionText.textContent = phase.text;

            switch (phase.type) {
                case 'instruction':
                    // Just show text and next button
                    break;

                case 'word-selection':
                    wordSelection.style.display = 'flex';
                    wordSelection.innerHTML = '';
                    const randomWords = getRandomWords(3);
                    randomWords.forEach(word => {
                        const btn = document.createElement('button');
                        btn.className = 'word-button';
                        btn.textContent = word;
                        btn.addEventListener('click', () => selectWord(word));
                        wordSelection.appendChild(btn);
                    });
                    nextButton.style.display = 'none';
                    break;

                case 'show-word':
                    if (selectedWord) {
                        wordDisplay.textContent = selectedWord;
                        wordDisplay.style.display = 'block';
                    }
                    break;

                case 'timer':
                    timerDisplay.style.display = 'block';
                    nextButton.style.display = 'none';
                    outcomeButtons.style.display = 'flex';
                    startTimer(phase.duration);
                    break;

                case 'outcome':
                    // This is handled by outcome buttons
                    break;
            }
        }

        // Get random words
        function getRandomWords(count) {
            let availableWords = [];

            if (selectedCategories.includes('all')) {
                // Combine all categories
                Object.values(wordCategories).forEach(words => {
                    availableWords = availableWords.concat(words);
                });
            } else {
                // Use only selected categories
                selectedCategories.forEach(category => {
                    if (wordCategories[category]) {
                        availableWords = availableWords.concat(wordCategories[category]);
                    }
                });
            }

            // Shuffle and return
            const shuffled = [...availableWords].sort(() => Math.random() - 0.5);
            return shuffled.slice(0, count);
        }

        // Select word
        function selectWord(word) {
            selectedWord = word;
            playBeep();
            currentPhaseIndex++;
            displayCurrentPhase();
        }

        // Start timer
        function startTimer(seconds) {
            const timerDisplay = document.getElementById('timer');
            let remaining = seconds;

            function updateTimer() {
                const mins = Math.floor(remaining / 60);
                const secs = remaining % 60;
                timerDisplay.textContent = `${mins}:${secs.toString().padStart(2, '0')}`;

                if (remaining <= 30) {
                    timerDisplay.classList.add('warning');
                } else {
                    timerDisplay.classList.remove('warning');
                }

                if (remaining <= 0) {
                    clearInterval(timerInterval);
                    timerDisplay.textContent = 'TIME\'S UP!';
                }
                remaining--;
            }

            updateTimer();
            timerInterval = setInterval(updateTimer, 1000);
        }

        // Next phase
        function nextPhase() {
            // Check if we're transitioning to the discussion phase (everyone opens eyes)
            const nextPhase = gamePhases[currentPhaseIndex + 1];
            if (nextPhase && nextPhase.phase === 'discussion') {
                playFinalBeep(); // Play deeper, longer beep
            } else {
                playBeep(); // Play regular beep
            }

            currentPhaseIndex++;
            if (currentPhaseIndex >= gamePhases.length) {
                resetGame();
            } else {
                displayCurrentPhase();
            }
        }

        // Reset game
        function resetGame() {
            currentPhaseIndex = 0;
            gamePhases = [];
            showSetupScreen();
            initGame();
        }

        // Handle outcome - word guessed
        function handleWordGuessed() {
            if (timerInterval) {
                clearInterval(timerInterval);
            }

            const instructionText = document.getElementById('instructionText');
            const outcomeButtons = document.getElementById('outcomeButtons');
            const timerDisplay = document.getElementById('timer');

            instructionText.textContent = 'Werewolves have 30 seconds to identify the Seer!';
            outcomeButtons.style.display = 'none';
            timerDisplay.style.display = 'block';
            startTimer(30);
        }

        // Handle outcome - word not guessed
        function handleWordNotGuessed() {
            if (timerInterval) {
                clearInterval(timerInterval);
            }

            const instructionText = document.getElementById('instructionText');
            const outcomeButtons = document.getElementById('outcomeButtons');
            const timerDisplay = document.getElementById('timer');

            instructionText.textContent = 'You have 1 minute to identify the Werewolves!';
            outcomeButtons.style.display = 'none';
            timerDisplay.style.display = 'block';
            startTimer(60);
        }

        // Event listeners
        document.getElementById('categorySelect').addEventListener('change', handleCategoryChange);
        document.getElementById('playButton').addEventListener('click', startGame);
        document.getElementById('nextButton').addEventListener('click', nextPhase);
        document.getElementById('headerResetButton').addEventListener('click', resetGame);
        document.getElementById('wordGuessed').addEventListener('click', handleWordGuessed);
        document.getElementById('wordNotGuessed').addEventListener('click', handleWordNotGuessed);

        // Initialize on load
        initGame();
    </script>
</body>
</html>
